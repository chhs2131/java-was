<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="../reset.css" rel="stylesheet" />
  <link href="../global.css" rel="stylesheet" />
</head>
<body>
<div class="container">
  <header class="header">
    <a href="/"><img src="../img/signiture.svg" /></a>
    <ul class="header__menu">
      <li class="header__menu__item">
        <a class="btn btn_contained btn_size_s" href="/login">로그인</a>
      </li>
      <li class="header__menu__item">
        <a class="btn btn_ghost btn_size_s" href="/registration">
          회원 가입
        </a>
      </li>
    </ul>
  </header>
  <div class="page">
    <h2 class="page-title">회원가입</h2>
    <form class="form" method="POST" action="/user/create">
      <div class="textfield textfield_size_s">
        <p class="title_textfield">이름(아이디)</p>
        <input
                id="name"
                name="name"
                class="input_textfield"
                placeholder="이름을 입력해주세요"
                autocomplete="name"
        />
      </div>
      <div class="textfield textfield_size_s">
        <p class="title_textfield">이메일</p>
        <input
                id="email"
                name="email"
                class="input_textfield"
                placeholder="이메일을 입력해주세요"
                autocomplete="email"
        />
      </div>
      <div class="textfield textfield_size_s">
        <p class="title_textfield">닉네임</p>
        <input
                id="nickname"
                name="nickname"
                class="input_textfield"
                placeholder="닉네임을 입력해주세요"
                autocomplete="nickname"
        />
      </div>
      <div class="textfield textfield_size_s">
        <p class="title_textfield">비밀번호</p>
        <input
                id="password"
                name="password"
                class="input_textfield"
                type="password"
                placeholder="비밀번호를 입력해주세요"
                autocomplete="current-password"
        />
      </div>
      <button
              id="registration-btn"
              class="btn btn_contained btn_size_m"
              style="margin-top: 24px"
              type="submit"
      >
        회원가입
      </button>
    </form>
  </div>
</div>
<script>
  function validateRegistrationForm() {
    const name = document.getElementById('name').value;
    const email = document.getElementById('email').value;
    const nickname = document.getElementById('nickname').value;
    const password = document.getElementById('password').value;
    const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;

    if (!name || !email || !nickname || !password) {
      alert("모든 필드를 입력해주세요.");
      return false;
    }

    if (!emailPattern.test(email)) {
      alert("유효한 이메일 주소를 입력해주세요.");
      return false;
    }

    return true;
  }

  document.addEventListener("DOMContentLoaded", () => {
    document.getElementById("registration-btn").addEventListener("click", (event) => {
      if (!validateRegistrationForm()) {
        event.preventDefault();
      }
    });
  });
</script>
</body>
</html>
